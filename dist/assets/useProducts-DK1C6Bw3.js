import{r as t}from"./react-vendor-DhwnvXGV.js";import{p as e}from"./index-C8VuAxzx.js";let a=[];const r=(r=null)=>{const[s,o]=t.useState([]),[c,u]=t.useState(!0),[l,n]=t.useState(null);t.useEffect(()=>{(async()=>{try{let t;u(!0),n(null),t="category"===r?.type?await e.getProductsByCategory(r.value):"gender"===r?.type?await e.getProductsByGender(r.value):await e.getProducts();const s=[...a,...t];o(s)}catch(t){n(t.message),o([])}finally{u(!1)}})()},[r?.type,r?.value]);const y=()=>{(async()=>{try{let t;u(!0),n(null),t="category"===r?.type?await e.getProductsByCategory(r.value):"gender"===r?.type?await e.getProductsByGender(r.value):await e.getProducts();const s=[...a,...t];o(s)}catch(t){n(t.message),o([])}finally{u(!1)}})()};return{products:s,loading:c,error:l,refetch:y,addLocalProduct:t=>{a.push(t),y()}}};export{r as u};
